# 変更後の検証チェックリスト（AI向け）

変更を加えた後は、必ず以下のコマンドを実行してエラーが発生していないことを確認してください。
エラーが発生した場合は、発生した旨を報告し、どのように修正するかの方針を提示したうえで修正を行ってください。

## 実行タイミング

- 変更をローカルで完了した後、commit/PRする前に必ず実行すること。
- 変更が複数段階に分かれる場合（例：テスト追加 → ファイル移動）は、それぞれの段階ごとに実行すること。

## 実行するコマンド

- `pnpm typecheck`
- `pnpm test`
- `pnpm lint`
- `pnpm prettier -c .`

（上記を順番に実行してください。すべて正常終了することを「作業完了」と見なします。）

## 成功条件

- 各コマンドが exit code 0 で終了していること。
- `pnpm test` の場合は、関連するテストが全て PASS していること。

## エラー発生時のルール

1. まずエラーメッセージをそのまま報告してください（コピペで可）。
2. 次に想定される原因を短く列挙してください（例：import path が壊れている、型定義が不足している、テストが未更新、lint ルール違反など）。
3. 修正方針を明記してください（例：`tsconfig.paths` を更新、legacy re-export を削除、テストを追加、ESLint ルールの調整など）。
4. 修正を行い、再度 3 コマンドを実行してグリーンであることを確認してください。
5. 必要ならコミット履歴（どのコミットで何を修正したか）を簡潔にまとめて報告してください。

## 例（報告テンプレート）

- 発生コマンド: `pnpm typecheck`
- エラーメッセージ: (ここにペースト)
- 想定原因: import path が旧パスを参照しているため
- 修正方針: 1) 参照箇所を `@entities/post` に置換 2) `pnpm typecheck` を再実行
- 実施結果: 修正後 `pnpm typecheck` は通過。`pnpm test` も全て PASS。

---

このドキュメントはAIによる自動作業時の守備範囲の一つです。変更を反映するたびにこのチェックを実行して、安全にリファクタを進めてください。
