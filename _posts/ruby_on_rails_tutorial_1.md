---
title: "1章 | 初学者によるRuby on Rails Tutorial学習記録"
date: '2021-03-03T18:00:57+09:00'
tag:
    - 'ruby'
    - 'rails'
---
この記事では，プログラミング初学者によるRuby on Rails Tutorial学習中のつまずきを章別に共有します。一覧は次のページに用意しています。
[はじめに | 初学者によるRuby on Rails Tutorial学習記録](https://ebisenttt.github.io/blog/article/ruby_on_rails_tutorial_0/)
# 1章の所感
1章については，まだつまずくことが少なかったです。Gemfileがまだブラックボックス化しているため，学習中に私が気になった点を一部補足しておきます。
# Gemfile
## バージョン指定
`Gemfile`は使用する`gem`の種類やバージョンを使用するために作成するファイルです。その中で使用する`>=`や`~>`という記号について補足します。
### バージョンの表記方法について
まず，RubyやRailsに限らず，ソフトウェアのバージョンは
```
(メジャーバージョン).（マイナーバージョン）.（パッチバージョン）
```
の形式で表記します。例えば，`1.2.3`というバージョンは，メジャーバージョンが1, マイナーバージョンが2, パッチバージョンが3であるバージョンを表します。
なお，メジャーバージョンは大きなアップデート，マイナーバージョンは小さなアップデート，パッチバージョンはバグの修正等があったときに更新されます。
### >=
例えば 
```
gem 'sample', '>= 1.2.3'
```
は`sample`という`gem`の`1.2.3`以上のバージョンを指定しています。つまり，存在するバージョンのうち`1.2.3`以降の最も新しいバージョン（例えば`1.2.4`や`1.3.0`など）が使用されます。
### ~>
例えば 
```
gem 'sample', '~> 1.2.3'
```
は`sample`という`gem`の**メジャーバージョン**が`1`で**マイナーバージョン**が`2`**以上**のバージョン（例えば`1.3.2`など）を指定します。逆に言えば，メジャーバージョンが新しいもの（例えば`2.1.3`など）は使用されません。
## bundle
まず`bundle`とは，`gem`の依存関係（例えば`gemA`を使うには`gemB`が必要というような関係）を管理するためのものです。ややこしいのは`bundle`自身も`gem`であるということです。様々な`gem`を使うにあたり，`bundle`がない状態では他の`gem`を管理できないため，まずは
```
gem install bundle
```
で`bundle`をインストールします。その後，`bundle`以外の使いたい`gem`を`Gemfile`に記述し，
```
bundle install
```
でインストールします。
## GemfileとGemfile.lock
作成したアプリケーションのディレクトリ直下に`Gemfile`と`Gemfile.lock`というファイルがあるはずです。これらの役割について補足します。まず，`Gemfile`は（前述の通り），作成するアプリケーションに使用したい`gem`の種類とバージョンを**人間が記述するため**のファイルです。一方で`Gemfile.lock`は，作成するアプリケーションに使用したい`gem`の種類とバージョン，その依存関係を**bundleがメモしておくための**ファイルです。したがって，**基本的には人間が`Gemfile`を編集することはあっても，`Gemfile.lock`を編集することはありません**。`Gemfile.lock`を更新する際は，
```
bundle update
```
とします。
これまでの内容をまとめると，まず
```
gem install bundle \\bundleがインストールされる
```
次に`Gemfile`を編集し，
```
bundle install \\Gemfileの内容に応じてgemがインストールされる
bundle update  \\Gemfileの内容に応じてGemfile.lockが更新される
```
という流れです。